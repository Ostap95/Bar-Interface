<!DOCTYPE html>
<html>
  <meta charset="utf-8">
  <script src="https://code.jquery.com/jquery-2.2.3.min.js"   integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="   crossorigin="anonymous"></script>


  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

    <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

  <!-- Css style -->
  <link rel="stylesheet" href="Style.css">

  <!-- Local Storage API -->
  <script src="store.min.js"></script>

  <!-- Bar Logic -->
  <script src="Logic.js"></script>

  <script>
      $(document).ready (function(){
        $("#success-alert").hide();
        $("#success-alert-state").hide();
        $("#Brunch, #Tosta, #Sandes").click(function showAlert() {
            $("#success-alert").alert();
            $("#success-alert").fadeTo(1200, 500).slideUp(500, function(){
            $("#success-alert").hide();
            });
        });

     });



     $(window).load(function(){
        if (store.get('STATEOPEN') == 1) {
            $('#stateMenu').modal('show');
            store.set('STATEOPEN', 0);
        }

     });


    function onStart() {
      updateBadge();
      updateCartList();
      updateCart();
      updateStateCard();
    }

  window.onload = onStart;
  document.getElementById('cartTable').addEventListener('click',tableclick,false);
  </script>

  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed"  data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <button onclick="window.history.back()" type="button" class="btn btn-default btn-lg alignBtn" aria-label="Left Align">
          <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
        </button>
        <button onclick="location.href='MainMenu.html'" type="button" class="btn btn-default btn-lg alignBtn" aria-label="Left Align">
          <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
        </button>
      </div>
      <div class="col-sm-3 col-md-3" >
        <form class="navbar-form" role="search">
          <div class="input-group input-group-lg" style="top:-3px; margin-bottom:-6px">
              <input type="text" class="form-control" placeholder="Procurar Item" name="srch-term" id="srch-term">
              <div class="input-group-btn">
                  <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
              </div>
          </div>
        </form>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse row" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right" role="tablist">
          <div class="col-xs-3">
              <button  onClick="updateStateCard()" type="button"  class="btn btn-default btn-lg alignBtn"  aria-label="Left Align" data-toggle="modal" data-target="#stateMenu">
                <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
              </button>
          </div>
          <div class="col-xs-3">
            <button onclick="updateCart();"type="button" class="btn btn-default btn-lg alignBtn"  aria-label="Left Align" data-toggle="modal" data-target="#shoopingCart">
              <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>
              <span id="shopping-badge"class="badge">0</span>
            </button>
          </div>
          <div class="col-xs-5 " style="top:9px; left:10px">
            <p class="text-right lead final-price" style="font-size:180%; padding-top:0px;">€ 0.0</p>
          </div>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>

  <div>
    <p class="text-center"> Comida </p>
  </div>

  <body>
    <div clas="container-fluid">
      <div class="row">
        <div value= "tosta"class="col-xs-5 col-md-4">
          <div class="thumbnail">
            <img src="FoodItem/tosta.jpg" alt="Tosta">
            <div class="caption">
              <h3>Tosta</h3>
              <p style="font-size:100%">Pensadas por especialistas, as nossas Tostas em pão saloio, são ideais para refeições leves.</p>
              <p class="text-center"> Preço:  € 2.00 </p>
              <p class="text-center">
                <a id="Tosta" onclick="addCart(this.id)" class="btn btn-success btn-lg">
                  <span class="glyphicon glyphicon-shopping-cart"></span> Adicionar ao Carrinho
                </a>
              </p>
            </div>
          </div>
        </div>

        <div class="col-xs-5 col-md-4">
          <div class="thumbnail">
            <img src="FoodItem/sandes.jpg" alt="Sandes">
            <div class="caption">
              <h3>Sandes</h3>
              <p style="font-size:100%">Cada Sandes foi pensada ao pormenor, apelando a todos os sentidos.</p>
              <p class="text-center"> Preço:  € 1.00 </p>
              <p class="text-center">
                <a id="Sandes" onclick="addCart(this.id)" class="btn btn-success btn-lg">
                  <span class="glyphicon glyphicon-shopping-cart"></span> Adicionar ao Carrinho
                </a>
              </p>
            </div>
          </div>
        </div>

        <div class="col-xs-5 col-md-4">
          <div class="thumbnail">
            <img src="FoodItem/brunch.jpg" alt="Brunch">
            <div class="caption">
              <h3>Brunch</h3>
              <p style="font-size:100%">Com tanta coisa apetecível no nosso bar era um pecado não termos um brunch individual ou para partilhar.</p>
              <p style="font-size:100%">Composição: 2 croissant | 1 pão cereais| Prato com fiambre/queijo | 1 omelete
                Manteiga | 2 bebidas | 1 sobremesa | 2 cafés</p>
              <p class="text-center"> Preço:  € 5.00 </p>
              <p class="text-center">
                <a id="Brunch" onclick="addCart(this.id)" class="btn btn-success btn-lg">
                  <span class="glyphicon glyphicon-shopping-cart"></span> Adicionar ao Carrinho
                </a>
              </p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </body>


<!-- POPUP MENU -->
<div class="modal fade" id="shoopingCart">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Carrinho de Compras</h2>
      </div>
      <div class="modal-body">
        <table class="table table-responsive">
          <thead>
            <tr>
              <th>Item</th>
              <th>Quantidade</th>
              <th>Preço</th>
              <th>Remover</th>
            </tr>
          </thead>
          <tbody id="cartTable">
          </tbody>
        </table>
        <p class="text-right total-price">Total: € 0.00</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a class="btn btn-danger btn-lg" data-dismiss="modal">
            <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
          </a>
          <a class="btn btn-warning btn-lg payButton" data-toggle="modal" data-target="#payNow">
            <span class="glyphicon glyphicon-euro"></span> Pagar
          </a>
          <a onclick="selectedOption()"class="btn btn-warning btn-lg divideButton" data-toggle="modal" data-target="#payInGroup">
            <span class="glyphicon glyphicon-euro"></span> Dividir a conta
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<!-- Shoping cart table items -->
<div style="display:none">
  <button value="Minus" onClick="DecrementQuantity(this)" id="minus-button" type="button" class="btn btn-default btn-lg">
    <span class="glyphicon glyphicon-minus"></span>
  </button>
  <a style="text-decoration: none; margin:10px" id="qnt">1</a>
  <button value="Plus" onClick="IncrementQuantity(this)" id="plus-button" type="button" class="btn btn-default btn-lg">
    <span class="glyphicon glyphicon-plus"></span>
  </button>

  <button value="Delete" onclick="deleteRow(this)" id="trash-button" type="button" class="btn btn-danger btn-lg">
    <span class="glyphicon glyphicon-trash"></span>
  </button>

  <button href= "#success-alert-state" value="AddToCart" onclick="addCartFromState(this)" id="add-button" type="button" class="btn btn-success btn-lg">
    <span class="glyphicon glyphicon-shopping-cart"></span> Adicionar
  </button>
</div>
<!-- Shoping cart table items END -->


<div class="modal fade" id="stateMenu">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Estado dos Pedidos</h2>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead>
            <tr>
              <th>Item</th>
              <th>Quantidade</th>
              <th>Preço</th>
              <th>Estado<th>
            </tr>
          </thead>
          <tbody id="stateTable">
          </tbody>
        </table>
        <p class="text-right processing-price">Total: € 0.0</p>
      </div>
      <div class="modal-footer">
        <div class="alert alert-success" id="success-alert-state">
            <button type="button" class="close" data-dismiss="alert">x</button>
            <p class="text-center"><strong>Adicionado ao carrinho com sucesso </strong></p>
        </div>
        <a class="btn btn-danger btn-lg" data-dismiss="modal">
          <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
        </a>
        <a class="btn btn-info btn-lg"  onClick="simulateProcessing()">
          <span  class="glyphicon glyphicon-ok"></span> Simular Processamento
        </a>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="payNow">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Pagamento</h2>
      </div>
      <div class="modal-body">
        <p class="text-center">Por favor, escolha um método de pagamento</p>
        <p class="text-center final-price">Total: € 0.00</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a onclick="cashPayInfo()" class="btn btn-success btn-lg" data-toggle="modal" data-target="#cashPay">
            <span class="glyphicon glyphicon-euro"></span> Em Dinheiro
          </a>
          <a onclick="cashPayInfo()" class="btn btn-success btn-lg" data-toggle="modal" data-target="#creditCardPay">
            <span class="glyphicon glyphicon-credit-card"></span> Cartão de Crédito
          </a>
        </p>
        <p class="text-center">
          <a class="btn btn-danger btn-lg" data-dismiss="modal">
            <span class="glyphicon glyphicon-arrow-left"></span> Retroceder
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="payNowGroup">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title text-center">Pagamento</h2>
      </div>
      <div class="modal-body">
        <p class="text-center">Por favor, escolha um método de pagamento</p>
        <p class="text-center groupPay">Total: € 0.00</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a onclick="modalO(1)"class="btn btn-success btn-lg" data-dismiss="modal">
            <span class="glyphicon glyphicon-euro"></span> Em Dinheiro
          </a>
          <a onclick="modalO(2)"class="btn btn-success btn-lg" data-dismiss="modal">
            <span class="glyphicon glyphicon-credit-card"></span> Cartão de Crédito
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="cashPay">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Pagamento em Dinheiro</h2>
      </div>
      <div class="modal-body">
        <p class="text-center"> Por favor, introduza a quantia indicada</p>
       <p class="text-center final-price">Total: € 0.00</p>
       <p class="text-center">Introduzido: € 0.00</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a class="btn btn-danger btn-lg" data-dismiss="modal" >
            <span  class="glyphicon glyphicon-arrow-left"></span> Alterar Método de Pagamento
          </a>
          <a onClick = "paymentDone()" class="btn btn-info btn-lg"  >
            <span  class="glyphicon glyphicon-ok"></span> Simular Pagamento
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->




<div class="modal fade" id="creditCardPay">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Pagamento com Cartão de Crédito</h2>
      </div>
      <div class="modal-body">
        <p class="text-center"> Por favor, introduza o seu cartão de crédito no lugar indicado na mesa.</p>
        <p class="text-center final-price">Total: € 0.00</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a class="btn btn-danger btn-lg" data-dismiss="modal" >
            <span  class="glyphicon glyphicon-arrow-left"></span> Alterar Método de Pagamento
          </a>
          <a class="btn btn-info btn-lg" data-toggle="modal" data-target="#keyPad">
            <span  class="glyphicon glyphicon-ok"></span> Simular Pagamento
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="keyPad">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Multibanco</h2>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <input id="PIN"type="password" class="form-control"  placeholder="PIN">
        </div>
        <div style="text-align: center">
        <div class="row">
            <button value="1" onclick="addPin(this.value)"type="button" class="btn btn-default btn-lg keypad">
              <span>1</span>
            </button>
            <button value="2" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg keypad">
              <span>2</span>
            </button>
            <button value="3" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg keypad">
              <span>3</span>
            </button>
        </div>

        <div class="row">
            <button value="4" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>4</span>
            </button>
            <button value="5" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>5</span>
            </button>
            <button value="6" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>6</span>
            </button>
        </div>

        <div class="row">
            <button value="7"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>7</span>
            </button>
            <button value="8"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>8</span>
            </button>
            <button value="9"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>9</span>
            </button>
        </div>
        <div class="row">
            <button onClick="goBackPIN()"value="7"  type="button" class="btn btn-default btn-lg">
              <span class="glyphicon glyphicon-arrow-left"></span>
            </button>
            <button value="0"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
              <span>0</span>
            </button>
            <button onClick = "checkPIN()" value="9"  type="button" class="btn btn-default btn-lg">
              <span class="glyphicon glyphicon-ok"></span>
            </button>
        </div>
      </div>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a class="btn btn-danger btn-lg" data-dismiss="modal" >
            <span  class="glyphicon glyphicon-arrow-left"></span> Alterar Método de Pagamento
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="payInGroup">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center">Dividir conta</h2>
      </div>
      <div class="modal-body">
        <p class="text-left">Dividir a conta por:</p>
        <select onClick="selectedOption()"class="form-control input-lg" id="payDividor">
          <option>2 Pessoas</option>
          <option>3 Pessoas</option>
          <option>4 Pessoas</option>
          <option>5 Pessoas</option>
          <option>6 Pessoas</option>
          <option>7 Pessoas</option>
          <option>8 Pessoas</option>
          <option>9 Pessoas</option>
          <option>10 Pessoas</option>
        </select>
        <p class="text-right totalDividerText">Total por pessoa: € 0.0</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a class="btn btn-danger btn-lg" data-dismiss="modal" >
            <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
          </a>
          <a class="btn btn-success btn-lg" href="#payNow" data-toggle="modal" data-target="#confirmModal" >
            <span  class="glyphicon glyphicon-ok"></span> Confirmar
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Modal -->
<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-center" id="myModalLabel">Confirmar Acção</h4>
      </div>
      <div class="modal-body">
        <p class="text-center">Tem a certeza que pretende continuar? </p>
      </div>
      <div class="modal-footer">
        <a class="btn btn-danger btn-lg" data-dismiss="modal">
          <span  class="glyphicon glyphicon-remove" data-dismiss="modal"></span> Cancelar
        </a>
        <a onClick="ActionConfirmed()" id= "Confirm" class="btn btn-success btn-lg">
          <span  class="glyphicon glyphicon-ok" ></span> Continuar
        </a>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id ="processOrder">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h2 class="modal-title text-center"> Pedido efectuado com sucesso</h2>
      </div>
      <div class="modal-body">
        <p>O seu pedido está a ser processado. Para mais informações sobre o seu pedido, por favor consulte o menu do estado do pedido, na barra de navegação.</p>
      </div>
      <div class="modal-footer">
        <p class="text-center">
          <a onclick="closeModals(1)" class="btn btn-success btn-lg">
            <span  class="glyphicon glyphicon-ok"></span> Continuar
          </a>
          <a onclick="closeModals(2)" class="btn btn-success btn-lg">
            <span  class="glyphicon glyphicon-time"></span> Estado do Pedido
          </a>
        </p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="alert alert-success" id="success-alert">
    <button type="button" class="close" data-dismiss="alert">x</button>
    <p class="text-center"><strong>Adicionado ao carrinho com sucesso </strong></p>
</div>

</html>
