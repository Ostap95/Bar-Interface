<!DOCTYPE html>
<html>
  <meta charset="utf-8">

  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

  <!-- Css style -->
  <link rel="stylesheet" href="Style.css">

  <!-- localStorage API -->
  <script src="store.min.js"></script>

  <!-- Bar Logic -->
  <script src="Logic.js"></script>

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <script>
  function pageLoad() {
    if(store.get("once") == undefined) doOnceFood();
    getBadge();
    updateMainMenuCart();
    updateCartList();
  }
  //store.clear();
  window.onload = pageLoad;
  document.getElementById('cartTable').addEventListener('click',tableclick,false);
  </script>

  <!-- STYLE OF THE COMPONENTS -->
  <style>
    body { padding-top: 70px;

      font-family: 'Roboto';
     }
    p { font-size:25px; }
    .alignBtn{
      position: relative;
      height: auto;
      top: 5px;
      bottom: 2px;
    }
    .jumbotron.vertical-center {
      margin-bottom: 0; /* Remove the default bottom margin of .jumbotron */
      background-color: white;
    }

  </style>


  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed"  data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <button onclick="window.history.back()" type="button" class="btn btn-default btn-lg alignBtn" aria-label="Left Align">
          <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
        </button>
        <button onclick="location.href='MainMenu.html'" type="button" class="btn btn-default btn-lg alignBtn" aria-label="Left Align">
          <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
        </button>
      </div>
      <div class="col-sm-3 col-md-3" >
        <form class="navbar-form" role="search">
          <div class="input-group input-group-lg" style="top:-3px; margin-bottom:-6px">
              <input type="text" class="form-control" placeholder="Procurar Item" name="srch-term" id="srch-term">
              <div class="input-group-btn">
                  <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
              </div>
          </div>
        </form>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse row" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right" role="tablist">
          <div class="col-xs-3">
              <button  onClick="updateStateCard()" type="button"  class="btn btn-default btn-lg alignBtn"  aria-label="Left Align" data-toggle="modal" data-target="#stateMenu">
                <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
              </button>
          </div>
          <div class="col-xs-3">
            <button onclick="updateCart();"type="button" class="btn btn-default btn-lg alignBtn"  aria-label="Left Align" data-toggle="modal" data-target="#shoopingCart">
              <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>
              <span id="shopping-badge"class="badge">0</span>
            </button>
          </div>
          <div class="col-xs-5 " style="top:9px; left:10px">
            <p class="text-right lead final-price" style="font-size:180%; padding-top:0px;">€ 0.0</p>
          </div>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
  <div>
    <p class="text-center"> Categorias </p>
  </div>

  <body>
    <div clas="container-fluid ">
      <div class="row jumbotron vertical-center" >
        <div class="col-xs-4">
          <a href="FoodItemMenu.html" class="thumbnail">
            <img src="Category/food.jpg" alt="Food">
          </a>
        </div>
        <div class="col-xs-4 ">
          <a href="DrinkItemMenu.html" class="thumbnail">
            <img src="Category/drinks.jpg" alt="Drinks">
          </a>
        </div>
        <div class="col-xs-4 ">
          <a href="CafeItemMenu.html" class="thumbnail">
            <img src="Category/cafe.jpg" alt="Cafe">
          </a>
        </div>
      </div>
    </div>
  </body>

  <!-- POPUP MENU -->

  <div class="modal fade" id="shoopingCart">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Carrinho de Compras</h2>
        </div>
        <div class="modal-body">
          <table class="table table-responsive">
            <thead>
              <tr>
                <th>Item</th>
                <th>Quantidade</th>
                <th>Preço</th>
                <th>Remover</th>
              </tr>
            </thead>
            <tbody id="cartTable">
            </tbody>
          </table>
          <p class="text-right total-price">Total: € 0.00</p>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a class="btn btn-danger btn-lg" data-dismiss="modal">
              <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
            </a>
            <a class="btn btn-warning btn-lg" data-toggle="modal" data-target="#payNow">
              <span class="glyphicon glyphicon-euro"></span> Pagar
            </a>
            <a onclick="selectedOption()"class="btn btn-warning btn-lg" data-toggle="modal" data-target="#payInGroup">
              <span class="glyphicon glyphicon-euro"></span> Dividir a conta
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <!-- Shoping cart table items -->
  <div style="display:none">
    <button value="Minus" onClick="DecrementQuantity(this)" id="minus-button" type="button" class="btn btn-default btn-lg">
      <span class="glyphicon glyphicon-minus"></span>
    </button>
    <a style="text-decoration: none; margin:10px" id="qnt">1</a>
    <button value="Plus" onClick="IncrementQuantity(this)" id="plus-button" type="button" class="btn btn-default btn-lg">
      <span class="glyphicon glyphicon-plus"></span>
    </button>

    <button value="Delete" onclick="deleteRow(this)" id="trash-button" type="button" class="btn btn-danger btn-lg">
      <span class="glyphicon glyphicon-trash"></span>
    </button>
  </div>
  <!-- Shoping cart table items END -->


  <div class="modal fade" id="stateMenu">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Estado dos Pedidos</h2>
        </div>
        <div class="modal-body">
          <table class="table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Quantidade</th>
                <th>Preço</th>
                <th>Estado<th>
              </tr>
            </thead>
            <tbody id="stateTable">
            </tbody>
          </table>
          <p class="text-right processing-price">Total: € 0.0</p>
        </div>
        <div class="modal-footer">
          <a class="btn btn-danger btn-lg" data-dismiss="modal">
            <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
          </a>
          <a class="btn btn-info btn-lg"  onClick="simulateProcessing()">
            <span  class="glyphicon glyphicon-ok"></span> Simular Processamento
          </a>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <div class="modal fade" id="payNow">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Pagamento</h2>
        </div>
        <div class="modal-body">
          <p class="text-center">Por favor, escolha um método de pagamento</p>
          <p class="text-center final-price">Total: € 0.00</p>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a onclick="cashPayInfo()" class="btn btn-success btn-lg" data-toggle="modal" data-target="#cashPay">
              <span class="glyphicon glyphicon-euro"></span> Em Dinheiro
            </a>
            <a onclick="cashPayInfo()" class="btn btn-success btn-lg" data-toggle="modal" data-target="#creditCardPay">
              <span class="glyphicon glyphicon-credit-card"></span> Cartão de Crédito
            </a>
          </p>
          <p class="text-center">
            <a class="btn btn-danger btn-lg" data-dismiss="modal">
              <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <div class="modal fade" id="cashPay">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Pagamento em Dinheiro</h2>
        </div>
        <div class="modal-body">
          <p class="text-center"> Por favor, introduza a quantia indicada</p>
         <p class="text-center final-price">Total: € 0.00</p>
         <p class="text-center">Introduzido: € 0.00</p>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a class="btn btn-danger btn-lg" data-dismiss="modal" >
              <span  class="glyphicon glyphicon-arrow-left"></span> Alterar Método de Pagamento
            </a>
            <a onClick = "paymentDone()" class="btn btn-info btn-lg"  >
              <span  class="glyphicon glyphicon-ok"></span> Simular Pagamento
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->




  <div class="modal fade" id="creditCardPay">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Pagamento com Cartão de Crédito</h2>
        </div>
        <div class="modal-body">
          <p class="text-center"> Por favor, introduza o seu cartão de crédito no lugar indicado na mesa.</p>
          <p class="text-center final-price">Total: € 0.00</p>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a class="btn btn-danger btn-lg" data-dismiss="modal" >
              <span  class="glyphicon glyphicon-arrow-left"></span> Alterar Método de Pagamento
            </a>
            <a class="btn btn-info btn-lg" data-toggle="modal" data-target="#keyPad">
              <span  class="glyphicon glyphicon-ok"></span> Simular Pagamento
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <div class="modal fade" id="keyPad">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Multibanco</h2>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <input id="PIN"type="password" class="form-control"  placeholder="PIN">
          </div>
          <div style="text-align: center">
          <div class="row">
              <button value="1" onclick="addPin(this.value)"type="button" class="btn btn-default btn-lg keypad">
                <span>1</span>
              </button>
              <button value="2" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg keypad">
                <span>2</span>
              </button>
              <button value="3" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg keypad">
                <span>3</span>
              </button>
          </div>

          <div class="row">
              <button value="4" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>4</span>
              </button>
              <button value="5" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>5</span>
              </button>
              <button value="6" onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>6</span>
              </button>
          </div>

          <div class="row">
              <button value="7"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>7</span>
              </button>
              <button value="8"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>8</span>
              </button>
              <button value="9"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>9</span>
              </button>
          </div>
          <div class="row">
              <button onClick="goBackPIN()"value="7"  type="button" class="btn btn-default btn-lg">
                <span class="glyphicon glyphicon-arrow-left"></span>
              </button>
              <button value="0"  onclick="addPin(this.value)" type="button" class="btn btn-default btn-lg">
                <span>0</span>
              </button>
              <button onClick = "checkPIN()" value="9"  type="button" class="btn btn-default btn-lg">
                <span class="glyphicon glyphicon-ok"></span>
              </button>
          </div>
        </div>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a class="btn btn-danger btn-lg" data-dismiss="modal" >
              <span  class="glyphicon glyphicon-arrow-left"></span> Alterar Método de Pagamento
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <div class="modal fade" id="payInGroup">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center">Dividir conta</h2>
        </div>
        <div class="modal-body">
          <p class="text-left">Dividir a conta por:</p>
          <select onClick="selectedOption()"class="form-control input-lg" id="payDividor">
            <option>2 Pessoas</option>
            <option>3 Pessoas</option>
            <option>4 Pessoas</option>
            <option>5 Pessoas</option>
            <option>6 Pessoas</option>
            <option>7 Pessoas</option>
            <option>8 Pessoas</option>
            <option>9 Pessoas</option>
            <option>10 Pessoas</option>
          </select>
          <p class="text-right totalDividerText">Total por pessoa: € 0.0</p>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a class="btn btn-danger btn-lg" data-dismiss="modal" >
              <span  class="glyphicon glyphicon-arrow-left"></span> Retroceder
            </a>
            <a class="btn btn-success btn-lg" href="#payNow" data-toggle="modal" data-target="#confirmModal" >
              <span  class="glyphicon glyphicon-ok"></span> Confirmar
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <!-- Modal -->
  <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title text-center" id="myModalLabel">Confirmar Acção</h4>
        </div>
        <div class="modal-body">
          <p class="text-center">Tem a certeza que pretende continuar? </p>
        </div>
        <div class="modal-footer">
          <a class="btn btn-danger btn-lg" data-dismiss="modal">
            <span  class="glyphicon glyphicon-remove" data-dismiss="modal"></span> Cancelar
          </a>
          <a onClick="ActionConfirmed()" id= "Confirm" class="btn btn-success btn-lg" data-toggle="modal" data-target="#payNow">
            <span  class="glyphicon glyphicon-ok" ></span> Continuar
          </a>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id ="processOrder">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title text-center"> Pedido efectuado com sucesso</h2>
        </div>
        <div class="modal-body">
          <p>O seu pedido está a ser processado. Para mais informações sobre o seu pedido, por favor consulte o menu do estado do pedido, na barra de navegação.</p>
        </div>
        <div class="modal-footer">
          <p class="text-center">
            <a onclick="closeModals()" class="btn btn-success btn-lg">
              <span  class="glyphicon glyphicon-ok"></span> Continuar
            </a>
          </p>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


</html>
